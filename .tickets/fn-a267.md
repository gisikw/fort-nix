---
id: fn-a267
status: open
deps: [fn-60ne]
links: []
created: 2026-02-12T21:21:48Z
type: task
priority: 2
assignee: Kevin Gisi
parent: fn-x4ci
tags: [darwin, infrastructure]
---
# Auto-enroll darwin hosts in mesh (no clickops)

The current darwin mesh path provides `fort-mesh-join` as a manual script. This is a "remember to run this" step which means it won't happen.

Replace with automatic enrollment: a launchd one-shot that runs on first boot (or activation) and enrolls with headscale if not already registered. Guard on something like `tailscale status` exit code â€” if already connected, no-op.

The auth key is already available via agenix. Just need to wire it into a launchd plist that runs once and stays out of the way.
